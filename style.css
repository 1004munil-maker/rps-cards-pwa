:root{
  --bg:#fff7fb;
  --card:#ffffff;
  --ink:#2b2e3a;
  --sub:#7a829b;
  --line:#ffd7ea;
  --accent:#ff99c8;
  --accent-ink:#401326;
  --warn:#ff6b6b;
  --op:#7db0ff;
  --me:#ffa7d7;
  --shadow:0 8px 24px rgba(255,153,200,.25);
}
*{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
html,body{ margin:0; padding:0; background:var(--bg); color:var(--ink); font-family: ui-rounded, system-ui, -apple-system, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif; height:100%; overflow:hidden; -webkit-text-size-adjust:100%; }
body, body *:not(input):not(textarea){
  -webkit-user-select:none; user-select:none; -webkit-touch-callout:none;
}
:focus{ outline:none; }

.root9x16{
  height:100svh;
  aspect-ratio:9/16;
  margin:0 auto;
  max-width:100vw;
  display:flex; align-items:stretch;
}
@supports not (aspect-ratio: 1){
  .root9x16{ height:100vh; width:calc(100vh * 9 / 16); max-width:100vw; }
}

.wrap{ flex:1 1 auto; overflow:hidden; padding:20px 14px 80px; }

.brand{ text-align:center; margin:8px 0 16px; }
.brand__icon{ font-size:1.6rem; }
.brand h1{ margin:.2rem 0; font-size:1.4rem; }
.brand__sub{ color:var(--sub); margin:.2rem 0 0; }

.hidden{ display:none!important; }
.help{ color:var(--sub); font-size:.92rem; margin:.4rem 0 0; }
.cute{ margin:0 0 .5rem; font-size:1.1rem; }

.card{
  background:var(--card); border:2px solid var(--line); border-radius:16px; padding:14px;
  box-shadow: var(--shadow);
}

.row{ display:flex; gap:10px; margin-top:10px; }
input{ flex:1; padding:12px 14px; border-radius:12px; border:2px solid var(--line); background:#fff; color:var(--ink); }
button{
  flex:1; padding:12px; border:0; border-radius:12px; font-weight:700;
  background:#ffe0ef; color:var(--accent-ink);
}
button.primary{ background:var(--accent); color:#fff; }
button.warn{ background:var(--warn); color:#fff; }
button.ghost{ background:#fff; border:2px dashed var(--line); color:var(--sub); }
button:disabled{ opacity:.5; }

.infoBar{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:8px; margin:10px 0; align-items:center; }
.timer{ text-align:center; }

.board{
  display:grid; grid-template-columns: repeat(25, 1fr); gap:4px; padding:8px;
  background:#fff; border:2px solid var(--line); border-radius:16px; margin:8px 0;
}
.cell{
  aspect-ratio:1/1; border-radius:8px; border:2px dashed #ffe6f1; position:relative; overflow:hidden;
  background: linear-gradient(#fff, #fff5fa);
}
.cell.goal{ background:#fff1f7; border-color: var(--accent); box-shadow: inset 0 0 0 2px #ffd2ea; }
.token{
  position:absolute; inset:auto auto 4px 4px; width:20px; height:20px; border-radius:50%;
  border:2px solid #fff;
}
.token.me{ background:var(--me); }
.token.op{ background:var(--op); left:auto; right:4px; }

.status{ display:flex; gap:10px; justify-content:space-between; margin:6px 0 12px; }
.chip{
  background:#fff; border:2px solid var(--line); padding:8px 10px; border-radius:999px; font-weight:700;
}
.chip.me{ box-shadow: 0 0 0 6px rgba(255,167,215,.15) }
.chip.op{ box-shadow: 0 0 0 6px rgba(125,176,255,.15) }

.handRow{ display:flex; gap:10px; margin:10px 0; }
.handRow.special .cardBtn{ background:#f5fbff; border-color:#d9ebff; }
.cardBtn{
  flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:4px; padding:10px; border-radius:14px; border:3px solid #ffe6f1; background:#fff5fa;
  font-weight:700; position:relative; transition: transform .06s ease;
}
.cardBtn:active{ transform: scale(.98); }
.cardBtn .emoji{ font-size:1.3rem; }
.cardBtn .count{ position:absolute; bottom:6px; right:8px; font-size:.85rem; color:var(--sub); }
.cardBtn.selected{
  outline:4px solid #ffc7e4; box-shadow: 0 0 0 6px #ffdff0;
}
.cardBtn:disabled{ opacity:.45; filter:grayscale(.2); }

.reveal{ margin-top:10px; display:grid; gap:6px; }

footer{ text-align:center; color:var(--sub); margin-top:14px; }

.orientation-guard{
  position: fixed; inset: 0; display: none;
  align-items: center; justify-content: center;
  background: rgba(255,247,251,.96);
  z-index: 9999;
}
.orientation-guard .og-card{
  background: #fff; border: 2px solid var(--line); border-radius: 16px;
  padding: 18px 22px; font-weight: 800; color: var(--accent-ink);
  box-shadow: var(--shadow);
}
@media (orientation: landscape){
  .orientation-guard{ display: flex; }
}
