<!doctype html>
<html lang="ja">
<head>
  <!-- [H01] åŸºæœ¬ãƒ¡ã‚¿ & PWA -->
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#ff99c8">
  <title>ã˜ã‚ƒã‚“ã‘ã‚“ã‚«ãƒ¼ãƒ‰ãƒ»ãƒ¬ãƒ¼ã‚¹</title>

  <!-- [H02] PWAãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ & ã‚¢ã‚¤ã‚³ãƒ³ -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icons/icon-192.png">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <!-- [H03] AdSense è‡ªå‹•åºƒå‘Šï¼ˆAuto adsï¼‰: Publisher ID ã‚’è¨­å®šæ¸ˆã¿ -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3891016340964160"
          crossorigin="anonymous"></script>

  <!-- [H04] ã‚¹ã‚¿ã‚¤ãƒ« -->
  <link rel="stylesheet" href="style.css" />

  <!-- [H05] Firebase CDNï¼ˆModular v11ï¼‰ -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getDatabase, ref, onValue, set, update, get, child, serverTimestamp, remove } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";
    // å¿…è¦ã«å¿œã˜ã¦ Auth ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯ã“ã¡ã‚‰ï¼š
    // import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
    window.FirebaseAPI = { initializeApp, getDatabase, ref, onValue, set, update, get, child, serverTimestamp, remove };
  </script>
</head>
<body>
  <!-- [B01] ç¸¦å›ºå®š(9:16)ã®è¡¨ç¤ºæ  -->
  <div id="root9x16" class="root9x16">
    <main class="wrap">
      <!-- [B02] ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ˜ãƒƒãƒ€ -->
      <header class="brand">
        <div class="brand__icon">ğŸ§¸</div>
        <h1>ã˜ã‚ƒã‚“ã‘ã‚“ã‚«ãƒ¼ãƒ‰ãƒ»ãƒ¬ãƒ¼ã‚¹</h1>
        <p class="brand__sub">25ãƒã‚¹ã§ã‚´ãƒ¼ãƒ«ã‚’ç›®æŒ‡ã™ã‚ˆï¼ˆæœ€ä½8ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰</p>
      </header>

      <!-- [B03] å‚åŠ ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆåå‰ã¯ app.js å´ã§å¿…é ˆãƒã‚§ãƒƒã‚¯ï¼‰ -->
      <section id="auth" class="card">
        <div class="row">
          <input id="playerName" placeholder="åå‰ï¼ˆä¾‹ï¼šCHOIï¼‰" maxlength="12" />
        </div>
        <div class="row">
          <button id="btnCreate" class="primary">ğŸ‰ éƒ¨å±‹ã‚’ä½œã‚‹</button>
        </div>
        <div class="row">
          <input id="joinId" placeholder="éƒ¨å±‹IDï¼ˆ6æ–‡å­—ï¼‰" maxlength="6" />
          <button id="btnJoin">å…¥å®¤</button>
        </div>
        <p class="help">å‹ã ã¡ã«éƒ¨å±‹IDã‚’å…±æœ‰ã—ã¦ã­ã€‚GitHub Pages ã§OKï¼</p>
      </section>

      <!-- [B04] ãƒ­ãƒ“ãƒ¼ï¼ˆp2ãŒæ¥ã‚‹ã¾ã§é–‹å§‹ãƒœã‚¿ãƒ³ã¯ç„¡åŠ¹ï¼‰ -->
      <section id="lobby" class="card hidden">
        <p>éƒ¨å±‹ID: <b id="roomIdLabel"></b> <button id="btnCopy" class="ghost">ã‚³ãƒ”ãƒ¼</button></p>
        <p>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼: <span id="p1Label">-</span> vs <span id="p2Label">-</span></p>
        <div class="row">
          <button id="btnStart" class="primary">â–¶ å¯¾æˆ¦é–‹å§‹</button>
          <button id="btnLeave" class="warn">é€€å‡º</button>
        </div>
      </section>

      <!-- [B05] ã‚²ãƒ¼ãƒ ç”»é¢ -->
      <section id="game" class="hidden">
        <div class="infoBar">
          <div>ãƒ©ã‚¦ãƒ³ãƒ‰ <b id="roundNo">-</b> / <span id="minRounds">8</span>+</div>
          <div class="timer">â± <b id="timer">10</b>s</div>
          <div>å·®ï¼š<b id="diff">0</b>ãƒã‚¹</div>
        </div>

        <!-- 25ãƒã‚¹ã®ãƒœãƒ¼ãƒ‰ -->
        <div class="board" id="board"></div>

        <div class="status">
          <div class="chip me">ã‚ãªãŸï¼š<b id="mePos">0</b>/<span>25</span></div>
          <div class="chip op">ç›¸ã€€æ‰‹ï¼š<b id="opPos">0</b>/<span>25</span></div>
        </div>

        <!-- æ‰‹æœ­ -->
        <section class="hand card">
          <h2 class="cute">ã‚ãªãŸã®ã‚«ãƒ¼ãƒ‰</h2>
          <div class="handRow">
            <button class="cardBtn" data-card="G">
              <span class="emoji">âœŠ</span>
              <span class="label">ã‚°ãƒ¼</span>
              <span class="count" id="cntG">Ã—4</span>
            </button>
            <button class="cardBtn" data-card="C">
              <span class="emoji">âœŒï¸</span>
              <span class="label">ãƒãƒ§ã‚­</span>
              <span class="count" id="cntC">Ã—4</span>
            </button>
            <button class="cardBtn" data-card="P">
              <span class="emoji">ğŸ«²</span>
              <span class="label">ãƒ‘ãƒ¼</span>
              <span class="count" id="cntP">Ã—4</span>
            </button>
          </div>
          <div class="handRow special">
            <button class="cardBtn" data-card="WIN" title="ã©ã‚“ãªæ‰‹ã«ã‚‚å‹ã¤ï¼ˆ+4ï¼‰â€»ãƒãƒªã‚¢ã«è² ã‘">
              <span class="emoji">ğŸ‘‘</span>
              <span class="label">å¿…å‹</span>
              <span class="count" id="cntWIN">Ã—1</span>
            </button>
            <button class="cardBtn" data-card="SWAP" title="å·®ãŒ8æœªæº€ãªã‚‰ä½ç½®ã‚’äº¤æ› â€»ãƒãƒªã‚¢ã«è² ã‘">
              <span class="emoji">ğŸ”</span>
              <span class="label">ä½ç½®äº¤æ›</span>
              <span class="count" id="cntSWAP">Ã—1</span>
            </button>
            <button class="cardBtn" data-card="BARRIER" title="ç›¸æ‰‹ã®å¿…å‹/ä½ç½®äº¤æ›ã‚’é˜²ãã€‚é€šå¸¸æ‰‹ç›¸æ‰‹ã ã¨è‡ªåˆ†-1ã®ãƒšãƒŠãƒ«ãƒ†ã‚£">
              <span class="emoji">ğŸ›¡ï¸</span>
              <span class="label">ãƒãƒªã‚¢</span>
              <span class="count" id="cntBARRIER">Ã—1</span>
            </button>
          </div>
          <div class="row">
            <button id="btnPlay" class="primary" disabled>ã“ã®ã‚«ãƒ¼ãƒ‰ã‚’å‡ºã™</button>
            <button id="btnClear" class="ghost">é¸æŠè§£é™¤</button>
          </div>
          <p id="stateMsg" class="help">10ç§’ä»¥å†…ã«å‡ºã—ã¦ã­ï¼ˆå‡ºã•ãªã„ã¨è² ã‘ï¼‰</p>
        </section>

        <section class="reveal card">
          <div>ã‚ãªãŸï¼š<span id="meChoice">ï¼Ÿ</span></div>
          <div>ç›¸æ‰‹ã€€ï¼š<span id="opChoice">ï¼Ÿ</span></div>
          <div>çµæœã€€ï¼š<b id="resultText">-</b></div>
        </section>

        <div class="row">
          <button id="btnNext">æ¬¡ã®ãƒ©ã‚¦ãƒ³ãƒ‰</button>
          <button id="btnExit" class="warn">çµ‚äº†</button>
        </div>
      </section>

      <!-- [B06] æ‰‹å‹•ã®åºƒå‘Šãƒ¦ãƒ‹ãƒƒãƒˆï¼ˆä»»æ„ãƒ»å®‰å…¨é…ç½®ï¼šãƒ•ãƒƒã‚¿ãƒ¼ç›´å‰ï¼‰ 
           - data-ad-client ã¯ã‚ãªãŸã® Publisher ID æ¸ˆã¿
           - data-ad-slot ã‚’ AdSense ã®ã€Œåºƒå‘Šãƒ¦ãƒ‹ãƒƒãƒˆã”ã¨ã€ã§ç™ºè¡Œã—ãŸç•ªå·ã«ç½®ãæ›ãˆ -->
      <section class="card" id="ad-slot-footer" style="padding:4px 8px; margin-top:12px;">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-3891016340964160"
             data-ad-slot="YOUR_SLOT_ID"  <!-- â˜…ã“ã“ã‚’ã‚ãªãŸã®ã‚¹ãƒ­ãƒƒãƒˆç•ªå·ã« -->
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
      </section>

      <!-- [B07] ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆä»»æ„ã§ privacy.html ã¸ãƒªãƒ³ã‚¯å¯ï¼‰ -->
      <footer>
        <small>Â© 2025 RPS Cards â€” pastel & comfy ğŸ’—
          <!-- <a href="./privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a> -->
        </small>
      </footer>
    </main>
  </div>

  <!-- [B08] æ¨ªå‘ãæ™‚ã®ã‚¬ãƒ¼ãƒ‰ï¼ˆç¸¦ã«æˆ»ã—ã¦ã­ï¼‰ -->
  <div class="orientation-guard" id="orientationGuard">
    <div class="og-card">
      ğŸ“± ç”»é¢ã‚’ç¸¦å‘ãã«ã—ã¦ãã ã•ã„
    </div>
  </div>

  <!-- [S01] ã‚¢ãƒ—ãƒªæœ¬ä½“ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
  <script type="module" src="app.js"></script>

  <!-- [S02] Service Worker ç™»éŒ²ï¼ˆPWAï¼‰ -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service-worker.js');
      });
    }
  </script>
</body>
</html>