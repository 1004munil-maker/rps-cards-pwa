<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<meta name="theme-color" content="#ff99c8" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="robots" content="noindex" />
<title>オフライン | RPS Cards</title>
<style>
  :root{
    --bg:#fff5fa; --surface:#ffffff; --ink:#2e2a2a; --muted:#666; --accent:#ff99c8;
    --shadow:0 14px 40px rgba(0,0,0,.18);
  }
  @media (prefers-color-scheme: dark){
    :root{ --bg:#1b1a1b; --surface:#222123; --ink:#f1f1f1; --muted:#bbb; --accent:#ff79b4; --shadow:0 14px 40px rgba(0,0,0,.5); }
  }
  *{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
  html,body{ height:100%; margin:0; }
  body{
    display:grid; place-items:center; min-height:100dvh;
    padding: max(16px, env(safe-area-inset-top)) max(16px, env(safe-area-inset-right))
             max(16px, env(safe-area-inset-bottom)) max(16px, env(safe-area-inset-left));
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
    background: radial-gradient(160% 140% at 100% 0%, var(--surface) 0%, var(--bg) 60%, var(--bg) 100%);
    color: var(--ink);
  }
  .card{
    width:min(520px, 92vw);
    background: var(--surface);
    border-radius:16px;
    padding:24px 20px;
    box-shadow: var(--shadow);
    text-align:center;
    border:1px solid rgba(255,153,200,.18);
  }
  .emoji{ font-size:40px; margin-bottom:6px; display:block; }
  h1{ font-size:20px; margin:0 0 8px; letter-spacing:.2px; }
  p{ margin:0; color:var(--muted); line-height:1.6; }
  button{
    margin-top:14px; padding:12px 16px; border:0; border-radius:12px;
    background: linear-gradient(180deg, var(--accent), #ff8fbf);
    color:#fff; font-weight:800; cursor:pointer;
    box-shadow: 0 10px 26px rgba(255,153,200,.35);
    transition: transform .06s ease, box-shadow .2s ease, opacity .2s ease;
  }
  button:active{ transform: translateY(1px) scale(.995); }
  button:focus-visible{ outline: none; box-shadow: 0 0 0 4px rgba(255,153,200,.28); }
  .hint{ margin-top:10px; font-size:12px; color:var(--muted); }
</style>
</head>
<body>
  <div class="card" role="alert" aria-live="polite">
    <span class="emoji">📶</span>
    <h1>オフラインです</h1>
    <p>対戦にはインターネット接続が必要です。<br>接続したら再読み込みしてください。</p>
    <button id="retry">再読み込み</button>
    <div class="hint" id="status">接続を待機中…</div>
  </div>

  <script>
    const retry = document.getElementById('retry');
    const statusEl = document.getElementById('status');

    const update = () => {
      const online = navigator.onLine;
      statusEl.textContent = online ? 'オンラインになりました！まもなく更新します…' : '接続を待機中…';
      if (online) setTimeout(() => location.reload(), 600);
    };

    retry.addEventListener('click', () => location.reload());
    window.addEventListener('online', update);
    window.addEventListener('offline', update);
    update();
  </script>
</body>
</html>